<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ç®€å•æµ‹è¯•é¡µé¢</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1e1e1e; color: #fff; }
        .success { color: #4ec9b0; }
        .error { color: #f48771; }
        .info { color: #569cd6; }
        pre { background: #2d2d2d; padding: 10px; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸ” WebæœåŠ¡å™¨æµ‹è¯•é¡µé¢</h1>
    <div id="status"></div>
    
    <script>
        const statusDiv = document.getElementById('status');
        
        function log(message, type = 'info') {
            const p = document.createElement('p');
            p.className = type;
            p.textContent = message;
            statusDiv.appendChild(p);
        }
        
        async function runTests() {
            log('å¼€å§‹æµ‹è¯•...', 'info');
            log('');
            
            // æµ‹è¯•è´¦æˆ·API
            log('æµ‹è¯• 1: è·å–è´¦æˆ·ä¿¡æ¯', 'info');
            try {
                const response = await fetch('/api/account');
                const data = await response.json();
                log('âœ“ è´¦æˆ·APIæ­£å¸¸', 'success');
                log('è´¦æˆ·ä½™é¢: ' + data.balance + ' BTC', 'info');
                log('æ€»ç›ˆäº: ' + data.totalPnl + ' BTC', 'info');
            } catch (error) {
                log('âœ— è´¦æˆ·APIå¤±è´¥: ' + error.message, 'error');
            }
            log('');
            
            // æµ‹è¯•ä»“ä½API
            log('æµ‹è¯• 2: è·å–ä»“ä½æ•°æ®', 'info');
            try {
                const response = await fetch('/api/positions');
                const data = await response.json();
                log('âœ“ ä»“ä½APIæ­£å¸¸', 'success');
                log('å½“å‰æŒä»“æ•°é‡: ' + data.length, 'info');
            } catch (error) {
                log('âœ— ä»“ä½APIå¤±è´¥: ' + error.message, 'error');
            }
            log('');
            
            // æµ‹è¯•Kçº¿API
            log('æµ‹è¯• 3: è·å–Kçº¿æ•°æ®', 'info');
            try {
                const response = await fetch('/api/klines?symbol=XBTUSD&timeframe=1d');
                const data = await response.json();
                log('âœ“ Kçº¿APIæ­£å¸¸', 'success');
                log('Kçº¿æ•°æ®æ¡æ•°: ' + data.length, 'info');
            } catch (error) {
                log('âœ— Kçº¿APIå¤±è´¥: ' + error.message, 'error');
            }
            log('');
            
            // æµ‹è¯•è®¢å•API
            log('æµ‹è¯• 4: è·å–æœªæˆäº¤è®¢å•', 'info');
            try {
                const response = await fetch('/api/orders/pending');
                const data = await response.json();
                log('âœ“ è®¢å•APIæ­£å¸¸', 'success');
                log('æœªæˆäº¤è®¢å•æ•°é‡: ' + data.length, 'info');
            } catch (error) {
                log('âœ— è®¢å•APIå¤±è´¥: ' + error.message, 'error');
            }
            log('');
            
            // æµ‹è¯•æˆäº¤API
            log('æµ‹è¯• 5: è·å–æˆäº¤è®°å½•', 'info');
            try {
                const response = await fetch('/api/executions');
                const data = await response.json();
                log('âœ“ æˆäº¤APIæ­£å¸¸', 'success');
                log('æˆäº¤è®°å½•æ•°é‡: ' + data.length, 'info');
            } catch (error) {
                log('âœ— æˆäº¤APIå¤±è´¥: ' + error.message, 'error');
            }
            log('');
            
            log('=== æµ‹è¯•å®Œæˆ ===', 'success');
            log('');
            log('å¦‚æœæ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡ï¼Œè¯´æ˜åç«¯æ­£å¸¸è¿è¡Œã€‚', 'info');
            log('å¦‚æœä¸»é¡µé¢ä»ç„¶æ— æ³•æ˜¾ç¤ºï¼Œå¯èƒ½æ˜¯ï¼š', 'info');
            log('1. æµè§ˆå™¨ç¼“å­˜é—®é¢˜ - å°è¯•ç¡¬åˆ·æ–° (Ctrl+Shift+R / Cmd+Shift+R)', 'info');
            log('2. JavaScripté”™è¯¯ - æŒ‰F12æ‰“å¼€æ§åˆ¶å°æŸ¥çœ‹é”™è¯¯ä¿¡æ¯', 'info');
            log('3. é™æ€æ–‡ä»¶è·¯å¾„é—®é¢˜ - æ£€æŸ¥CSS/JSæ–‡ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½', 'info');
        }
        
        // è¿è¡Œæµ‹è¯•
        runTests();
    </script>
</body>
</html>
