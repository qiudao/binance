# BitMEX Trading Dashboard

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

åŸºäº TradingView Lightweight Charts çš„ä¸“ä¸šäº¤æ˜“åˆ†æ Web ç•Œé¢ï¼Œæä¾›ï¼š

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **Kçº¿å›¾å±•ç¤º** - TradingView ä¸“ä¸šçº§å›¾è¡¨
- âœ… **è®¢å•æ ‡æ³¨** - åœ¨Kçº¿å›¾ä¸Šæ ‡æ³¨ä¹°å–è®¢å•
- âœ… **ä»“ä½ç®¡ç†** - å®æ—¶æ˜¾ç¤ºå½“å‰æŒä»“
- âœ… **äº¤æ˜“å†å²** - æœªæˆäº¤è®¢å• + å·²æˆäº¤è®¢å•åˆ—è¡¨
- âœ… **è´¦æˆ·ä¿¡æ¯** - ä½™é¢ã€ç›ˆäºã€èƒœç‡ç»Ÿè®¡

### ç•Œé¢å±•ç¤º
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š BitMEX Trading Dashboard    [XBTUSDâ–¼] [1Dâ–¼] [ğŸ”„]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Balance: 2.85 BTC | Today: +0.12 BTC | WR: 62% | ...  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                               â”‚  ğŸ“Š Current Positions   â”‚
â”‚   TradingView Kçº¿å›¾           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â€¢ èœ¡çƒ›å›¾                    â”‚  â”‚ XBTUSD Long ğŸŸ¢ â”‚   â”‚
â”‚   â€¢ æˆäº¤é‡                    â”‚  â”‚ Qty: 2000      â”‚   â”‚
â”‚   â€¢ è®¢å•æ ‡è®° (Buy/Sellç®­å¤´)   â”‚  â”‚ Entry: 9750    â”‚   â”‚
â”‚                               â”‚  â”‚ PNL: +0.15 BTC â”‚   â”‚
â”‚                               â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“‹ Pending Orders (2)    â”‚  âœ… Recent Executions (15) â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Time | Symbol |... â”‚  â”‚  â”‚ Time | Symbol |... â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä¸‹è½½å¿…è¦æ•°æ®

```bash
# ä¸‹è½½Kçº¿æ•°æ®ï¼ˆå¿…éœ€ï¼‰
make download-klines

# ä¸‹è½½å…¶ä»–æ•°æ®ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
make download-orders
make download-trades
make download-wallet
```

### 2. å¯åŠ¨ Web æœåŠ¡å™¨

**æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œå¯åŠ¨**
```bash
make web-server
```

**æ–¹å¼äºŒï¼šå¯åŠ¨å¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨**
```bash
make web-open
```

### 3. è®¿é—®ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:8080

---

## ğŸ“‹ Makefile å‘½ä»¤

### Kçº¿æ•°æ®ç®¡ç†
```bash
# å…¨é‡ä¸‹è½½Kçº¿æ•°æ®ï¼ˆXBTUSD æ—¥çº¿ï¼‰
make download-klines

# å¢é‡åŒæ­¥Kçº¿æ•°æ®
make sync-klines

# æŸ¥çœ‹Kçº¿æ–‡ä»¶
make ls-klines
```

### Web æœåŠ¡å™¨
```bash
# å¯åŠ¨æœåŠ¡å™¨ï¼ˆç«¯å£ 8080ï¼‰
make web-server

# å¯åŠ¨å¹¶è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
make web-open
```

### æ‰‹åŠ¨å‘½ä»¤
```bash
# ä¸‹è½½å…¶ä»–äº¤æ˜“å¯¹çš„Kçº¿
go run bitmex_klines.go --symbol ETHUSD --timeframe 1d

# ä¸‹è½½å°æ—¶çº¿æ•°æ®
go run bitmex_klines.go --symbol XBTUSD --timeframe 1h

# æŒ‡å®šç«¯å£å¯åŠ¨æœåŠ¡å™¨
PORT=3000 go run web_server.go
```

---

## ğŸ“Š ç•Œé¢åŠŸèƒ½è¯´æ˜

### 1. Kçº¿å›¾åŒºåŸŸ
- **äº¤äº’å¼å›¾è¡¨**: ç¼©æ”¾ã€å¹³ç§»ã€åå­—å…‰æ ‡
- **è®¢å•æ ‡è®°**:
  - ğŸŸ¢ ç»¿è‰²å‘ä¸Šç®­å¤´ = Buy (åšå¤š)
  - ğŸ”´ çº¢è‰²å‘ä¸‹ç®­å¤´ = Sell (åšç©º)
- **æ—¶é—´å‘¨æœŸ**: 1åˆ†é’Ÿã€1å°æ—¶ã€1å¤©
- **å¤šäº¤æ˜“å¯¹**: XBTUSD, ETHUSD ç­‰

### 2. è´¦æˆ·ä¿¡æ¯æ 
- **Balance**: å½“å‰è´¦æˆ·ä½™é¢
- **Today PNL**: ä»Šæ—¥ç›ˆäºï¼ˆè¿‘æœŸäº¤æ˜“ï¼‰
- **Total PNL**: ç´¯è®¡æ€»ç›ˆäº
- **Win Rate**: èƒœç‡ç™¾åˆ†æ¯”
- **Total Trades**: æ€»äº¤æ˜“æ¬¡æ•°

### 3. å½“å‰ä»“ä½é¢æ¿
æ˜¾ç¤ºæ¯ä¸ªäº¤æ˜“å¯¹çš„æŒä»“ä¿¡æ¯ï¼š
- Symbol: äº¤æ˜“å¯¹åç§°
- Side: Long(åšå¤š) æˆ– Short(åšç©º)
- Quantity: æŒä»“æ•°é‡
- Entry Price: å¼€ä»“å‡ä»·
- Current Price: å½“å‰ä»·æ ¼
- Unrealized PNL: æœªå®ç°ç›ˆäº

### 4. æœªæˆäº¤è®¢å•åˆ—è¡¨
æ˜¾ç¤ºæ‰€æœ‰æŒ‚å•ä½†æœªæˆäº¤çš„è®¢å•ï¼š
- Time: ä¸‹å•æ—¶é—´
- Symbol: äº¤æ˜“å¯¹
- Side: Buy/Sell
- Price: æŒ‚å•ä»·æ ¼
- Quantity: è®¢å•æ•°é‡
- Type: è®¢å•ç±»å‹ï¼ˆLimit/Market/Stopï¼‰
- Status: çŠ¶æ€ï¼ˆNew/PartiallyFilledï¼‰

### 5. å·²æˆäº¤è®¢å•åˆ—è¡¨
æ˜¾ç¤ºæœ€è¿‘100ç¬”æˆäº¤è®°å½•ï¼š
- Time: æˆäº¤æ—¶é—´
- Symbol: äº¤æ˜“å¯¹
- Side: Buy/Sell
- Price: æˆäº¤ä»·æ ¼
- Quantity: æˆäº¤æ•°é‡
- Commission: æ‰‹ç»­è´¹

---

## ğŸ¨ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç«¯å£
ç¼–è¾‘ `web_server.go` ç¬¬ 157 è¡Œ:
```go
port := "8080"  // æ”¹ä¸ºä½ æƒ³è¦çš„ç«¯å£
```

### æ·»åŠ æ›´å¤šäº¤æ˜“å¯¹
ç¼–è¾‘ `web_server.go` ç¬¬ 166 è¡Œ:
```go
symbols := []string{"XBTUSD", "ETHUSD", "ETHXBT"}  // æ·»åŠ æ›´å¤š
```

### ä¿®æ”¹è‡ªåŠ¨åˆ·æ–°é—´éš”
ç¼–è¾‘ `web/js/app.js` æœ€åä¸€è¡Œ:
```javascript
}, 30000);  // 30ç§’ï¼Œæ”¹ä¸ºä½ æƒ³è¦çš„æ¯«ç§’æ•°
```

---

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯
- **Go** - Web æœåŠ¡å™¨ + API
- **CSV æ•°æ®æº** - ä»æœ¬åœ° CSV æ–‡ä»¶è¯»å–

### å‰ç«¯
- **TradingView Lightweight Charts** - Kçº¿å›¾è¡¨
- **Vanilla JavaScript** - æ— æ¡†æ¶ï¼Œçº¯ JS
- **CSS3** - æ·±è‰²ä¸»é¢˜è®¾è®¡

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
.
â”œâ”€â”€ bitmex_klines.go          # Kçº¿æ•°æ®ä¸‹è½½
â”œâ”€â”€ web_server.go              # Web API æœåŠ¡å™¨
â”œâ”€â”€ web/
â”‚   â”œâ”€â”€ index.html            # ä¸»é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css         # æ ·å¼
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ api.js            # API å°è£…
â”‚       â”œâ”€â”€ chart.js          # å›¾è¡¨é€»è¾‘
â”‚       â”œâ”€â”€ orders.js         # è®¢å•/ä»“ä½
â”‚       â””â”€â”€ app.js            # ä¸»åº”ç”¨
â”œâ”€â”€ orders.csv                # è®¢å•æ•°æ®
â”œâ”€â”€ executions.csv            # æˆäº¤æ•°æ®
â”œâ”€â”€ wallet.csv                # é’±åŒ…æ•°æ®
â””â”€â”€ klines_XBTUSD_1d.csv      # Kçº¿æ•°æ®
```

---

## ğŸ› æ•…éšœæ’æŸ¥

### é—®é¢˜1: Kçº¿å›¾ä¸æ˜¾ç¤º
**åŸå› **: ç¼ºå°‘Kçº¿æ•°æ®æ–‡ä»¶
**è§£å†³**:
```bash
make download-klines
make ls-klines  # éªŒè¯æ–‡ä»¶æ˜¯å¦å­˜åœ¨
```

### é—®é¢˜2: è®¢å•/ä»“ä½ä¸ºç©º
**åŸå› **: ç¼ºå°‘ orders.csv æˆ– executions.csv
**è§£å†³**:
```bash
make download-orders
make download-trades
```

### é—®é¢˜3: æµè§ˆå™¨æ— æ³•è®¿é—®
**åŸå› **: ç«¯å£è¢«å ç”¨æˆ–æœåŠ¡å™¨æœªå¯åŠ¨
**è§£å†³**:
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
lsof -i :8080

# æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
kill -9 <PID>

# é‡æ–°å¯åŠ¨
make web-server
```

### é—®é¢˜4: Go ä¾èµ–é—®é¢˜
**è§£å†³**:
```bash
go mod init bitmex-dashboard
go mod tidy
```

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥å¢å¼º

å¯ä»¥è€ƒè™‘æ·»åŠ çš„åŠŸèƒ½ï¼š
- [ ] WebSocket å®æ—¶æ•°æ®æ›´æ–°
- [ ] å¤šæ—¶é—´å‘¨æœŸå¯¹æ¯”è§†å›¾
- [ ] æŠ€æœ¯æŒ‡æ ‡å åŠ ï¼ˆMA, RSI, MACDï¼‰
- [ ] äº¤æ˜“ä¿¡å·æ ‡æ³¨
- [ ] ç›ˆäºçƒ­åŠ›å›¾
- [ ] å¯¼å‡ºæŠ¥è¡¨åŠŸèƒ½
- [ ] è‡ªå®šä¹‰ä¸»é¢˜åˆ‡æ¢

---

## ğŸ“ å¸®åŠ©

é‡åˆ°é—®é¢˜ï¼Ÿè¿è¡Œä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤ï¼š
```bash
make help
```

æˆ–æŸ¥çœ‹æ—¥å¿—ï¼š
```bash
# å¯åŠ¨æœåŠ¡å™¨æ—¶æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
go run web_server.go 2>&1 | tee server.log
```

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨

```bash
# ä¸€é”®å¯åŠ¨ï¼ˆä¸‹è½½æ•°æ® + å¯åŠ¨æœåŠ¡å™¨ï¼‰
make download-klines && make download-orders && make web-open
```

äº«å—ä½ çš„ä¸“ä¸šçº§äº¤æ˜“åˆ†æç•Œé¢ï¼ğŸ“Šâœ¨
